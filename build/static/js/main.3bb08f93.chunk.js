(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{101:function(e,t,a){e.exports={Burger:"Burger_Burger__u93fg"}},102:function(e,t,a){e.exports={Modal:"Modal_Modal__qOE1B"}},103:function(e,t,a){e.exports={Spinner:"Spinner_Spinner__1NHqc",load7:"Spinner_load7__1nS96"}},105:function(e,t,a){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__gn-Bl"}},106:function(e,t,a){e.exports={Order:"Order_Order__1-DoE"}},125:function(e,t,a){e.exports=a(157)},130:function(e,t,a){},155:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(130);var c=a(21),l=a(22),s=a(24),u=a(23),d=function(e){return e.children},m=a(91),p=a.n(m),h=a(69),g=a.n(h),E=a(92),b=a.n(E),f=a(93),v=a.n(f),_=function(e){return n.a.createElement("div",{className:b.a.Logo},n.a.createElement("img",{src:v.a,alt:"Logo"}))},y=a(54),O=a.n(y),S=a(72),N=a.n(S),I=a(38),x=function(e){return n.a.createElement("li",{className:N.a.NavigationItem},n.a.createElement(I.c,{to:e.link,activeClassName:N.a.active,exact:!0},e.children))},C=a(184),T=a(187),k=a(188),j=a(189),w=function(e){return n.a.createElement("ul",{className:O.a.NavigationItems},n.a.createElement(x,{link:"/"},n.a.createElement("div",{className:O.a.svgDiv},n.a.createElement(C.a,{fontSize:"inherit"})),n.a.createElement("span",null,"Burger Builder")),e.isAuth?n.a.createElement(x,{link:"/orders"},n.a.createElement("div",{className:O.a.svgDiv},n.a.createElement(T.a,{fontSize:"inherit"})),n.a.createElement("span",null,"Orders")):null,e.isAuth?n.a.createElement(x,{link:"/logout"},n.a.createElement("div",{className:O.a.svgDiv},n.a.createElement(k.a,{fontSize:"inherit"})),n.a.createElement("span",null,"Logout")):n.a.createElement(x,{link:"/auth"},n.a.createElement("div",{className:O.a.svgDiv},n.a.createElement(j.a,{fontSize:"inherit"})),n.a.createElement("span",null,"Login/Signup")))},A=a(98),L=a.n(A),D=function(e){return n.a.createElement("div",{className:L.a.DrawerToggle,onClick:e.menuClick},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},R=function(e){return n.a.createElement("header",{className:g.a.Toolbar},n.a.createElement(D,{menuClick:e.menuClick}),n.a.createElement("div",{className:g.a.Logo},n.a.createElement(I.b,{to:"/"}," ",n.a.createElement(_,null))),n.a.createElement("nav",{className:g.a.DesktopOnly},n.a.createElement(w,{isAuth:e.isAuth})))},B=a(55),U=a.n(B),H=a(99),P=a.n(H),F=function(e){return e.showing?n.a.createElement("div",{className:P.a.Backdrop,onClick:e.clicked}):null},z=function(e){var t=[U.a.SideDrawer,U.a.Close];return e.showSD&&(t=[U.a.SideDrawer,U.a.Open]),n.a.createElement(d,null,n.a.createElement(F,{showing:e.showSD,clicked:e.sdCloser}),n.a.createElement("div",{className:t.join(" ")},n.a.createElement("div",{className:U.a.Logo},n.a.createElement(_,null)),n.a.createElement("nav",{onClick:e.sdCloser},n.a.createElement(w,{isAuth:e.isAuth}))))},G=a(18),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={sideDrawerShowing:!1},e.closeSideDrawerHandler=function(){return e.setState({sideDrawerShowing:!1})},e.toggleSideDrawerHandler=function(){return e.setState((function(e){return{sideDrawerShowing:!e.sideDrawerShowing}}))},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(d,null,n.a.createElement(R,{isAuth:this.props.isAuth,menuClick:this.toggleSideDrawerHandler}),n.a.createElement(z,{isAuth:this.props.isAuth,showSD:this.state.sideDrawerShowing,sdCloser:this.closeSideDrawerHandler}),n.a.createElement("main",{className:p.a.Content},this.props.children))}}]),a}(r.Component),q=Object(G.b)((function(e){return{isAuth:null!==e.auth.token}}))(M),W=a(8),Z=a(110),Y=a(101),V=a.n(Y),K=a(37),$=a.n(K),J=a(201),Q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={show:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.BreadBottom}));break;case"bread-top":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.BreadTop},n.a.createElement("div",{className:$.a.Seeds1}),n.a.createElement("div",{className:$.a.Seeds2})));break;case"meat":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.Meat}));break;case"cheese":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.Cheese}));break;case"bacon":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.Bacon}));break;case"salad":e=n.a.createElement(J.a,{in:this.state.show},n.a.createElement("div",{className:$.a.Salad}));break;default:e=null}return e}}]),a}(r.Component),X=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(Z.a)(Array(e.ingredients[t])).map((function(e,a){return n.a.createElement(Q,{key:t+a,type:t})}))})).reduce((function(e,t){return e.concat(t)}));return 0===t.length&&(t=n.a.createElement("p",{style:{color:"#222"}},"Use the controls to fill me up!")),n.a.createElement("div",{className:V.a.Burger},n.a.createElement(Q,{type:"bread-top"}),t,n.a.createElement(Q,{type:"bread-bottom"}))},ee=a(70),te=a.n(ee),ae=a(61),re=a.n(ae),ne=function(e){return n.a.createElement("div",{className:re.a.BuildControl},n.a.createElement("button",{className:re.a.Less,onClick:e.removed,disabled:!(!e.error&&!e.disabled)||e.disabledLess},"Less"),n.a.createElement("div",{className:re.a.Label},e.label),n.a.createElement("button",{className:re.a.More,onClick:e.added,disabled:!(!e.error&&!e.disabled)||e.disabledMore},"More"))},oe=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],ie=function(e){var t=n.a.createElement("button",{className:te.a.OrderButton,disabled:!e.purchasable,onClick:e.ordered}," ORDER NOW! ");return e.isAuth||(t=n.a.createElement("button",{className:te.a.OrderButton,disabled:!e.purchasable,onClick:e.ordered}," LOGIN TO CONTINUE ")),n.a.createElement("div",{className:te.a.BuildControls},n.a.createElement("p",null,"This burger is just ",n.a.createElement("b",null,"\u20a6",e.price.toFixed(2),"!!")),oe.map((function(t){return n.a.createElement(ne,{key:t.label,disabled:e.disabled,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},error:e.error,disabledLess:e.disabledLess[t.type],disabledMore:e.disabledMore[t.type]})})),t)},ce=a(102),le=a.n(ce),se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.showing!==this.props.showing||e.children!==this.props.children}},{key:"render",value:function(){return n.a.createElement(d,null,n.a.createElement(F,{showing:this.props.showing,clicked:this.props.modalCloser}),n.a.createElement("div",{className:le.a.Modal,style:Object(W.a)({transform:this.props.showing?"translateY(0)":"translateY(-100vh)",opacity:this.props.showing?"1":"0"},this.props.style)},this.props.children))}}]),a}(r.Component),ue=a(191),de=a(190),me=a(192),pe=function(e){var t=Object.keys(e.ingObj).map((function(t){return n.a.createElement(de.a,{divider:!0,key:t},["No","A layer of ","Two Layers of ","Three Layers of ","Four Layers of ","Five Layers of "][e.ingObj[t]]," \xa0",n.a.createElement("span",{style:{textTransform:"capitalize"}}," ",t))}));return n.a.createElement("div",{style:e.style},n.a.createElement("h3",null,"Review Your Order"),n.a.createElement("p",{style:{margin:"auto"}},"Your delicious burger contains:"),n.a.createElement(ue.a,null,t),n.a.createElement("p",null,n.a.createElement("b",null,"Your Burger costs: \u20a6",e.price.toFixed(2))," only."),n.a.createElement("p",null,"Continue to Checkout?"),n.a.createElement(me.a,{variant:"text",style:{color:"red",marginRight:"10%",fontFamily:"inherit",fontWeight:"600"},onClick:e.cancelPurchase},"CANCEL"),n.a.createElement(me.a,{variant:"outlined",color:"primary",style:{color:"blue",fontFamily:"inherit",fontWeight:"600"},onClick:e.checkout},"CONTINUE"))},he=a(31),ge=a.n(he),Ee=ge.a.create({baseURL:"https://dave-s-burger-builder.firebaseio.com/"}),be=a(103),fe=a.n(be),ve=function(){return n.a.createElement("div",{className:fe.a.Spinner},"Loading...")},_e=function(e,t){return function(a){Object(s.a)(o,a);var r=Object(u.a)(o);function o(){var e;Object(c.a)(this,o);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).state={error:null},e.errorClearHandler=function(){return e.setState({error:null})},e}return Object(l.a)(o,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return n.a.createElement(d,null,n.a.createElement(se,{showing:this.state.error,modalCloser:this.errorClearHandler},this.state.error?this.state.error.message:null),n.a.createElement(e,this.props))}}]),o}(r.Component)},ye=a(44),Oe=a(193),Se=a(198),Ne=a(194),Ie=a(195),xe=a(196),Ce=a(200),Te=a(197),ke=a(202),je=a(112),we=a(199),Ae=a(104),Le=a.n(Ae),De=function(e,t){return{type:"INIT_FETCH_ORDERS",token:e,userId:t}},Re=function(e,t,a){return{type:"AUTH_SUCCESS",authData:{idToken:e,localId:t}}},Be=function(e){return{type:"AUTH_FAIL",error:e}},Ue=function(e){return{type:"INIT_AUTH_SESS_LOGOUT",expirationTime:e}},He=function(e,t,a,r){var n=Object(W.a)({},a),o=Object(W.a)({},a[t]);o.value=e.target.value,o.touched=!0,o.valid=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}if(t.isAlphabet){a=/^[A-Za-z ]+$/.test(e)&&a}if(t.isAlphaNumeric){a=/^[A-Z0-9a-z ,'-]*$/.test(e)&&a}return a}(o.value,o.validation),n[t]=o,r(n)},Pe=Object(Oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Fe=Object(G.b)((function(e){return{authLoad:e.auth.authLoading,authError:e.auth.authError,isAuth:null!==e.auth.token,userId:e.auth.userId,token:e.auth.token}}),(function(e){return{onAuth:function(t,a,r,n){return e(function(e,t,a,r){return{type:"INIT_AUTH",email:e,password:t,isSignup:a,customer:r}}(t,a,r,n))},onError:function(){return e({type:"AUTH_RESET_ERROR"})}}}))((function(e){var t=Pe(),a=Object(r.useState)({firstName:{value:"",validation:{required:!0,minLength:2,isAlphabet:!0},valid:!1,touched:!1},lastName:{value:"",validation:{required:!0,minLength:2,isAlphabet:!0},valid:!1,touched:!1},email:{value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),o=Object(ye.a)(a,2),i=o[0],c=o[1],l=Object(r.useState)(!1),s=Object(ye.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(!1),p=Object(ye.a)(m,2),h=p[0],g=p[1],E={label:{firstName:"First Name",lastName:"Last Name",email:"Email Address",password:"Password"},autoComplete:{email:"Enter a valid email",password:"current-password"},helperText:{email:"Enter a valid email",password:"Password must be at least 6 characters"}},b=function(e,t){return n.a.createElement(Se.a,Object.assign({variant:"outlined",required:!0,id:e,name:e,label:E.label[e],fullWidth:!0,autoComplete:E.autoComplete[e],onChange:function(t){He(t,e,i,c)},error:y(e),inputProps:O(e),helperText:E.helperText[e]},t))},f=function(t){t.preventDefault();var a={firstName:i.firstName.value,lastName:i.lastName.value,email:i.email.value};e.onAuth(i.email.value,i.password.value,u,a)},v=function(){return g(!h)},_=function(){return d(!u)},y=function(e){return!i[e].valid&&i[e].touched},O=function(e){return{minLength:i[e].validation.minLength,maxLength:i[e].validation.maxLength}},S=null;return e.authLoad?S=n.a.createElement(ve,null):(u&&(S=n.a.createElement("form",{className:t.form,onSubmit:f},n.a.createElement(Ne.a,{container:!0,spacing:2},n.a.createElement(Ne.a,{item:!0,xs:12,sm:6},b("firstName",{autoFocus:!0})),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6},b("lastName",{margin:"none"})),n.a.createElement(Ne.a,{item:!0,xs:12},b("email",{margin:"none"})),n.a.createElement(Ne.a,{item:!0,xs:12},b("password",{margin:"none"}))),n.a.createElement(me.a,{className:t.submit,type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),n.a.createElement(Ne.a,{container:!0,justify:"flex-end"},n.a.createElement(Ne.a,{item:!0},n.a.createElement(Ie.a,{href:"#",onClick:_,variant:"body2"},"Already have an account? Sign in"))))),u||h||(S=n.a.createElement("form",{className:t.form,onSubmit:f},b("email",{margin:"normal",autoFocus:!0}),b("password",{margin:"normal"}),n.a.createElement(xe.a,{control:n.a.createElement(Ce.a,{value:"remember",color:"primary"}),label:"Remember me"}),n.a.createElement(me.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit}," Sign In "),n.a.createElement(Ne.a,{container:!0},n.a.createElement(Ne.a,{item:!0,xs:!0},n.a.createElement(Ie.a,{href:"#",onClick:v,variant:"body2"},"Forgot password?")),n.a.createElement(Ne.a,{item:!0},n.a.createElement(Ie.a,{href:"#",onClick:_,variant:"body2"},"Don't have an account? Sign up"))))),!u&&h&&(S=n.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t={requestType:"PASSWORD_RESET",email:i.email.value};ge.a.post("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyBfZjDWFu8P_4Kb2CiUppaoSzCVfTAeN2o",t).then((function(e){})).catch((function(e){return console.log(e)}))}},b("email",{margin:"normal",autoFocus:!0}),n.a.createElement(me.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Reset Password"),n.a.createElement(Ne.a,{container:!0},n.a.createElement(Ne.a,{item:!0,xs:!0},n.a.createElement(Ie.a,{href:"#",onClick:v,variant:"body2"},"Back to Sign in")),n.a.createElement(Ne.a,{item:!0},n.a.createElement(Ie.a,{href:"#",onClick:_,variant:"body2"},"Don't have an account? Sign Up")))))),n.a.createElement(Te.a,{component:"div",maxWidth:"xs"},n.a.createElement("div",{style:e.style,className:t.paper},n.a.createElement(ke.a,{className:t.avatar},n.a.createElement(Le.a,null))," ",n.a.createElement(je.a,{component:"h1",variant:"h5"},u?"Sign up":"Sign in"),S),n.a.createElement(we.a,{mt:8,position:"fixed"},"   "))})),ze=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={purchasing:!1},e.purchasingHandler=function(){e.setState({purchasing:!0})},e.cancelPurchaseHandler=function(){e.setState({purchasing:!1})},e.checkoutHandler=function(t){e.props.onBurgerPuchaseInit(),e.props.history.push("/checkout")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.building||this.props.onLoadIngredients()}},{key:"updatePurchaseState",value:function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0)>0}},{key:"render",value:function(){var e=Object(W.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var a=Object(W.a)({},this.props.ings);for(var r in a)a[r]=a[r]>=4;var o=n.a.createElement(pe,{style:{marginLeft:"20px"},ingObj:this.props.ings,price:this.props.prc,cancelPurchase:this.cancelPurchaseHandler,checkout:this.checkoutHandler}),i=n.a.createElement(X,{ingredients:this.props.ings});return this.props.ings||(i=n.a.createElement(ve,null),o=null),this.props.err&&(i=n.a.createElement("p",null,"Sorry we can't load your Burger")),n.a.createElement(d,null,n.a.createElement(se,{showing:this.state.purchasing,modalCloser:this.cancelPurchaseHandler},this.props.isAuth?o:n.a.createElement(Fe,{style:{width:"100%",marginTop:"10px"}})),i,n.a.createElement(ie,{ingredientAdded:this.props.onIngredientAdded,ingredientRemoved:this.props.onIngredientRemoved,disabled:!this.props.ings,disabledLess:e,disabledMore:a,price:this.props.prc,ordered:this.purchasingHandler,isAuth:this.props.isAuth,purchasable:this.props.ings?this.updatePurchaseState(this.props.ings):null,error:this.props.err}))}}]),a}(r.Component),Ge=Object(G.b)((function(e){return{ings:e.burgerBuilder.ingredients,prc:e.burgerBuilder.totalPrice,err:e.burgerBuilder.error,isAuth:null!==e.auth.token,building:e.burgerBuilder.building,authToken:e.auth.token}}),(function(e){return{onIngredientAdded:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ingredientName:e}}(t))},onIngredientRemoved:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredientName:e}}(t))},onLoadIngredients:function(){return e({type:"INIT_SET_INGREDIENTS"})},onBurgerPuchaseInit:function(){return e({type:"BURGER_PURCHASE_INIT"})},onFetchOrders:function(t){return e(De(t))}}}))(_e(ze,Ee)),Me=a(105),qe=a.n(Me),We=function(e){return n.a.createElement("div",{className:qe.a.CheckoutSummary},n.a.createElement("h1",{style:{color:"#222"}},"It's Looking Yummy!"),n.a.createElement("div",{style:{width:"100%",margin:"auto",paddingBottom:"10px"}},n.a.createElement(X,{ingredients:e.ingredients})),n.a.createElement(me.a,{variant:"text",style:{color:"red",marginRight:"10%",fontFamily:"inherit",fontWeight:"600"},onClick:e.checkoutCancel},"BACK"),n.a.createElement(me.a,{variant:"outlined",color:"primary",style:{color:"blue",fontFamily:"inherit",fontWeight:"600"},onClick:e.checkoutContinue},"CONTINUE"))},Ze=a(32),Ye=Object(G.b)((function(e){return{ings:e.burgerBuilder.ingredients,prc:e.burgerBuilder.totalPrice,load:e.order.loading,authToken:e.auth.token,userID:e.auth.userId}}),(function(e){return{onBurgerPurchase:function(t,a){return e(function(e,t){return{type:"INIT_BURGER_PURCHASE",orderData:e,token:t}}(t,a))}}}))((function(e){var t={isAlphabet:/^[A-Za-z ,'-]+$/,isAlphaNumeric:/^[A-Z0-9a-z ,'-]*$/},a=Object(r.useState)({firstName:{value:"",validation:{required:!0,minLength:2,maxLength:16,isAlphaNumeric:!0,pattern:t.isAlphaNumeric},valid:!1,touched:!1},lastName:{value:"",validation:{required:!0,minLength:2,maxLength:16,isAlphaNumeric:!0,pattern:t.isAlphaNumeric},valid:!1,touched:!1},address:{value:"",validation:{required:!0,minLength:3,maxLength:35,isAlphaNumeric:!0,pattern:t.isAlphaNumeric},valid:!1,touched:!1},city:{value:"",validation:{required:!0,minLength:3,maxLength:25,isAlphaNumeric:!0,pattern:t.isAlphaNumeric},valid:!1,touched:!1},state:{value:"",validation:{required:!0,minLength:3,maxLength:25,isAlphabet:!0,pattern:t.isAlphabet},valid:!1,touched:!1},country:{value:"",validation:{required:!0,minLength:4,maxLength:30,isAlphabet:!0,pattern:t.isAlphabet},valid:!1,touched:!1},zip:{value:"",validation:{required:!0,minLength:5,maxLength:7,isAlphaNumeric:!0,pattern:t.isAlphaNumeric},valid:!1,touched:!1},loading:!1,formIsValid:!1}),o=Object(ye.a)(a,2),i=o[0],c=o[1],l=function(e){return!i[e].valid&&i[e].touched},s={label:{firstName:"First Name",lastName:"Last Name",address:"Address",city:"City",state:"State/Province/Region",zip:"Zip / Postal Code",country:"Country"},autoComplete:{firstName:"given-name",lastName:"family-name",address:"shipping address-line1",city:"shipping address-level2",state:"shipping address-level1",zip:"shipping postal-code",country:"shipping country"},helperText:{address:"Enter the delivery address",city:"Enter the name of the city",state:"Enter the name of the state",zip:"Enter a valid zip /postal code",country:"Enter your current country name"}},u=function(e){return{minLength:i[e].validation.minLength,maxLength:i[e].validation.maxLength}},d=function(e,t){return n.a.createElement(Se.a,Object.assign({margin:"none",required:!0,id:e,name:e,label:s.label[e],fullWidth:!0,autoComplete:s.autoComplete[e],onChange:function(t){He(t,e,i,c)},error:l(e),inputProps:u(e),size:"small",helperText:s.helperText[e]},t))},m=n.a.createElement(n.a.Fragment,null,n.a.createElement(je.a,{variant:"h6",style:{paddingTop:"10px",paddingLeft:"5%",paddingRight:"5%"}},"Fill this form to complete your order"),n.a.createElement("form",{style:{width:"90%",padding:"0.75% 5% 2%"},onSubmit:function(t){t.preventDefault();var a={};for(var r in i)a[r]=i[r].value;var n={ingredients:e.ings,price:e.prc,CustomerData:a,userId:e.userID,time:Date.now()};e.onBurgerPurchase(n,e.authToken)}},n.a.createElement(Ne.a,{container:!0,spacing:2},n.a.createElement(Ne.a,{item:!0,xs:12,sm:6},d("firstName")),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6},d("lastName")),n.a.createElement(Ne.a,{item:!0,xs:12,style:{paddingTop:"0px"}},d("address")),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6,style:{paddingTop:"0px"}},d("city")),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6,style:{paddingTop:"0px"}},d("state")),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6,style:{paddingTop:"0px"}},d("zip")),n.a.createElement(Ne.a,{item:!0,xs:12,sm:6,style:{paddingTop:"0px"}},d("country")),n.a.createElement(Ne.a,{item:!0,xs:12,style:{paddingTop:"0px"}},n.a.createElement(xe.a,{control:n.a.createElement(Ce.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"})),n.a.createElement(Ne.a,{container:!0,justify:"space-between",direction:"row"},n.a.createElement(Ne.a,{item:!0},n.a.createElement(me.a,{onClick:e.closeModal,variant:"text",style:{color:"#d9534f",borderColor:"#d9534f"}},"VIEW PREVIEW")),n.a.createElement(Ne.a,{item:!0}," ",n.a.createElement(me.a,{variant:"contained",color:"primary",type:"submit"}," PLACE ORDER"))))));return e.load&&(m=n.a.createElement(ve,null)),n.a.createElement(n.a.Fragment,null,n.a.createElement(je.a,{component:"h2",variant:"h4",style:{color:"#333"},align:"center"}," Checkout "),m)})),Ve=Object(G.b)((function(e){return{ings:e.burgerBuilder.ingredients,pcsd:e.order.purchased,completed:e.order.orderCompleted}}))((function(e){var t,a=Object(r.useState)(!1),o=Object(ye.a)(a,2),i=o[0],c=o[1],l=e.completed,s=function(){return c(!i)};e.ings||(t=n.a.createElement(Ze.a,{to:"/"}));var u=n.a.createElement(Ye,{closeModal:s});return e.ings&&(t=n.a.createElement("div",null,n.a.createElement(We,{ingredients:e.ings,checkoutCancel:function(){e.history.goBack()},checkoutContinue:s}),n.a.createElement(se,{style:{margin:"0 auto",height:"auto",maxHeight:"92%"},modalCloser:s,showing:i},u))),l?n.a.createElement(Ze.a,{to:"/"}):t})),Ke=a(106),$e=a.n(Ke),Je=function(e){var t,a=Object(W.a)({},e.customerData),r=Object.keys(e.ingredients).map((function(t){return n.a.createElement("li",{key:t,style:{display:"inline-block",margin:"0 3px",padding:"0 2px",border:"0.7px solid #ccc"}},n.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t])}));return n.a.createElement("div",{className:$e.a.Order},n.a.createElement("p",null,"Ordered For: ",a.firstName+" "+a.lastName),n.a.createElement("p",null,"The ingredients were: ",r),n.a.createElement("p",null,"It cost\xa0",n.a.createElement("b",null," \u20a6",e.price),"\xa0only"),n.a.createElement("p",null,"Purchased on: ",(t=e.time,new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+" at "+new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"}))))},Qe=Object(G.b)((function(e){return{odrs:e.order.orders,load:e.order.orderLoading,authToken:e.auth.token,userID:e.auth.userId}}),(function(e){return{onFetchOrders:function(t,a){return e(De(t,a))}}}))(_e((function(e){var t=e.onFetchOrders,a=e.authToken,o=e.userID;Object(r.useEffect)((function(){t(a,o)}),[t,a,o]);var i=n.a.createElement(ve,null);return e.load||(i=e.odrs.map((function(e){return n.a.createElement(Je,{key:e.id,ingredients:e.ingredients,price:e.price,customerData:e.CustomerData,time:e.time})})),0===e.odrs.length&&(console.log(e.odrs,"empty"),i=n.a.createElement("h4",{style:{padding:"0.5% 10%",color:"#333"}},"Seems like you're yet to try one of our delicious Burgers!")),console.log(e.odrs,"non-empty")),n.a.createElement("div",null,n.a.createElement("h3",{style:{padding:"0.5% 10%",color:"#333"}},"Hi ",n.a.createElement("span",{style:{textTransform:"capitalize"}},localStorage.getItem("firstName")),", here are your previous orders:"),i)}),Ee)),Xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return n.a.createElement(Ze.a,{to:"/"})}}]),a}(r.Component),et=Object(G.b)(null,(function(e){return{onLogout:function(){return e({type:"INIT_AUTH_LOGOUT"})}}}))(Xe),tt=(a(155),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.onCheckAuthStatus()}},{key:"render",value:function(){var e=n.a.createElement(Ze.d,null,n.a.createElement(Ze.b,{path:"/",exact:!0,component:Ge}),n.a.createElement(Ze.b,{path:"/Auth",component:Fe}),n.a.createElement(Ze.a,{to:"/"}));return this.props.isAuth&&(e=n.a.createElement(Ze.d,null,n.a.createElement(Ze.b,{path:"/",exact:!0,component:Ge}),n.a.createElement(Ze.b,{path:"/checkout",component:Ve}),n.a.createElement(Ze.b,{path:"/orders",component:Qe}),n.a.createElement(Ze.b,{path:"/logout",component:et}),n.a.createElement(Ze.a,{to:"/"}))),n.a.createElement("div",null,n.a.createElement(q,null,e))}}]),a}(r.Component)),at=Object(G.b)((function(e){return{isAuth:null!==e.auth.token}}),(function(e){return{onCheckAuthStatus:function(){return e({type:"INIT_CHECK_AUTH_STATUS"})}}}))(tt),rt=a(36),nt=a(107),ot=a(111),it=a(59),ct={ingredients:null,totalPrice:150,error:!1,building:!1},lt={salad:50,cheese:50,meat:300,bacon:150},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INGREDIENTS":return Object(W.a)({},e,{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,meat:t.ingredients.meat},error:!1,totalPrice:150,building:!1});case"LOAD_INGREDIENTS_ERROR":return Object(W.a)({},e,{error:!0});case"ADD_INGREDIENT":return Object(W.a)({},e,{ingredients:Object(W.a)({},e.ingredients,Object(it.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+lt[t.ingredientName],building:!0});case"REMOVE_INGREDIENT":return Object(W.a)({},e,{ingredients:Object(W.a)({},e.ingredients,Object(it.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-lt[t.ingredientName],building:!0});default:return e}},ut={orders:[],loading:!1,purchased:!1,orderLoading:!1,orderCompleted:!1,ordersLoaded:!1},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BURGER_PURCHASE_INIT":return Object(W.a)({},e,{purchased:!1,orderCompleted:!1});case"BURGER_PURCHASE_ATTEMPT":return Object(W.a)({},e,{loading:!0,orderCompleted:!1});case"BURGER_PURCHASE_SUCCESS":return Object(W.a)({},e,{loading:!1,purchased:!0,orderCompleted:!0});case"BURGER_PURCHASE_FAIL":return Object(W.a)({},e,{loading:!1,orderCompleted:!1});case"FETCH_ORDERS_START":return Object(W.a)({},e,{orderLoading:!0});case"FETCH_ORDERS_SUCCESS":return Object(W.a)({},e,{orderLoading:!1,orders:[].concat(t.orders)});case"FETCH_ORDERS_FAIL":return Object(W.a)({},e,{orderLoading:!1});default:return e}},mt={token:null,userId:null,authError:null,authLoading:!1,authComplete:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(W.a)({},e,{authLoading:!0,authError:null,token:null,userId:null,authComplete:!1});case"AUTH_SUCCESS":return Object(W.a)({},e,{authLoading:!1,authError:null,token:t.authData.idToken,userId:t.authData.localId,authComplete:!0});case"AUTH_FAIL":return Object(W.a)({},e,{authLoading:!1,authComplete:!1,authError:t.error.response});case"AUTH_RESET_ERROR":return Object(W.a)({},e,{authError:null});case"AUTH_LOGOUT":return Object(W.a)({},e,{token:null,userId:null,authLoading:!1,authError:null,authComplete:!1});default:return e}},ht=a(16),gt=a.n(ht),Et=a(9),bt=a(108),ft=a.n(bt),vt=a(109),_t=a.n(vt)()(ft.a),yt=function(e){var t=e.text;if("error"===e.icon)switch(e.text){case"EMAIL_EXISTS":t="You're already signed up! Login instead!";break;case"MISSING_EMAIL":t="Please enter a valid E-mail";break;default:t="Oops! Something went wrong"}_t.fire(Object(W.a)({},e,{text:t}))},Ot=gt.a.mark(xt),St=gt.a.mark(Ct),Nt=gt.a.mark(Tt),It=gt.a.mark(kt);function xt(e){return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.b)([localStorage,"removeItem"],"token");case 2:return e.next=4,Object(Et.b)([localStorage,"removeItem"],"expirationTime");case 4:return e.next=6,Object(Et.b)([localStorage,"removeItem"],"userId");case 6:return e.next=8,Object(Et.b)([localStorage,"removeItem"],"firstName");case 8:return e.next=10,Object(Et.b)([localStorage,"removeItem"],"lastName");case 10:return e.next=12,Object(Et.b)([localStorage,"removeItem"],"email");case 12:return e.next=14,Object(Et.d)({type:"AUTH_LOGOUT"});case 14:case"end":return e.stop()}}),Ot)}function Ct(e){return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Et.c)(1e3*e.expirationTime);case 2:return t.next=4,Object(Et.d)({type:"INIT_AUTH_LOGOUT"});case 4:case"end":return t.stop()}}),St)}function Tt(e){var t,a,r,n,o,i,c;return gt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(Et.d)({type:"AUTH_START"});case 2:return t={email:e.email,password:e.password,returnSecureToken:!0},a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBfZjDWFu8P_4Kb2CiUppaoSzCVfTAeN2o",e.isSignup||(a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBfZjDWFu8P_4Kb2CiUppaoSzCVfTAeN2o"),l.prev=5,l.next=8,ge.a.post(a,t);case 8:return r=l.sent,l.next=11,yt({icon:"success",title:"Login Successful",showConfirmButton:!1,timer:1750});case 11:if(!r||!e.isSignup){l.next=24;break}return l.prev=12,l.next=15,ge.a.post("https://dave-s-burger-builder.firebaseio.com/customers.json?auth="+r.data.idToken,Object(W.a)({},e.customer,{userId:r.data.localId}));case 15:l.next=23;break;case 17:return l.prev=17,l.t0=l.catch(12),l.next=21,Object(Et.d)(Be(l.t0));case 21:return l.next=23,yt({icon:"error",title:"Oops...",text:l.t0.response.data.error.message});case 23:case 24:if(!r){l.next=41;break}return l.prev=25,l.next=28,ge.a.get("https://dave-s-burger-builder.firebaseio.com/customers.json?auth="+r.data.idToken+'&orderBy="userId"&equalTo="'+r.data.localId+'"');case 28:return o=l.sent,l.next=31,console.log(o);case 31:for(i in o.data)n=Object(W.a)({},o.data[i]);return l.next=35,Object(Et.d)(Re(r.data.idToken,r.data.localId));case 35:l.next=41;break;case 37:return l.prev=37,l.t1=l.catch(25),l.next=41,console.log(l.t1);case 41:return c=new Date(Date.now()+1e3*r.data.expiresIn),localStorage.setItem("token",r.data.idToken),localStorage.setItem("expirationTime",c),localStorage.setItem("userId",r.data.localId),localStorage.setItem("firstName",n.firstName),localStorage.setItem("lastName",n.lastName),localStorage.setItem("email",n.email),l.next=50,Object(Et.d)(Ue(r.data.expiresIn));case 50:l.next=58;break;case 52:return l.prev=52,l.t2=l.catch(5),l.next=56,Object(Et.d)(Be(l.t2));case 56:return l.next=58,yt({icon:"error",title:"Oops...",text:l.t2.response.data.error.message});case 58:case"end":return l.stop()}}),Nt,null,[[5,52],[12,17],[25,37]])}function kt(e){var t,a,r;return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),a=new Date(localStorage.getItem("expirationTime")).getTime(),r=(new Date(localStorage.getItem("expirationTime")).getTime()-Date.now())/1e3,!(t&&Date.now()<a)){e.next=10;break}return e.next=6,Object(Et.d)(Re(t,localStorage.getItem("userId")));case 6:return e.next=8,Object(Et.d)(Ue(r));case 8:e.next=12;break;case 10:return e.next=12,Object(Et.d)({type:"INIT_AUTH_LOGOUT"});case 12:case"end":return e.stop()}}),It)}var jt=gt.a.mark(At),wt=gt.a.mark(Lt);function At(e){var t;return gt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Et.d)({type:"BURGER_PURCHASE_ATTEMPT"});case 2:return a.prev=2,a.next=5,yt({icon:"success",title:"You have successfully placed your order",showConfirmButton:!1,timer:1750});case 5:return a.next=7,Ee.post("/orders.json?auth="+e.token,e.orderData);case 7:return t=a.sent,a.next=10,Object(Et.d)((r=t.data.name,n=e.orderData,{type:"BURGER_PURCHASE_SUCCESS",orderId:r,order:n}));case 10:a.next=20;break;case 12:return a.prev=12,a.t0=a.catch(2),a.next=16,Object(Et.d)({type:"BURGER_PURCHASE_FAIL",error:a.t0});case 16:return a.next=18,yt({icon:"error",showConfirmButton:!1,timer:2e3});case 18:return a.next=20,a.sent;case 20:case 21:case"end":return a.stop()}var r,n}),jt,null,[[2,12]])}function Lt(e){var t,a,r,n;return gt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Et.d)({type:"FETCH_ORDERS_START"});case 2:return t="?auth="+e.token+'&orderBy="userId"&equalTo="'+e.userId+'"',o.prev=3,o.next=6,Ee.get("/orders.json"+t);case 6:for(n in a=o.sent,r=[],a.data)r.push(Object(W.a)({},a.data[n],{id:n}));return o.next=12,Object(Et.d)({type:"FETCH_ORDERS_SUCCESS",orders:r});case 12:o.next=18;break;case 14:return o.prev=14,o.t0=o.catch(3),o.next=18,Object(Et.d)({type:"FETCH_ORDERS_FAIL",error:o.t0});case 18:case"end":return o.stop()}}),wt,null,[[3,14]])}var Dt=gt.a.mark(Rt);function Rt(e){var t;return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.a.get("https://dave-s-burger-builder.firebaseio.com/ingredients.json");case 3:return t=e.sent,e.next=6,Object(Et.d)({type:"LOAD_INGREDIENTS",ingredients:t.data});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(Et.d)({type:"LOAD_INGREDIENTS_ERROR"});case 12:case"end":return e.stop()}}),Dt,null,[[0,8]])}var Bt=gt.a.mark(Pt),Ut=gt.a.mark(Ft),Ht=gt.a.mark(zt);function Pt(){return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.a)([Object(Et.e)("INIT_AUTH_LOGOUT",xt),Object(Et.e)("INIT_AUTH_SESS_LOGOUT",Ct),Object(Et.e)("INIT_AUTH",Tt),Object(Et.e)("INIT_CHECK_AUTH_STATUS",kt)]);case 2:case"end":return e.stop()}}),Bt)}function Ft(){return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.f)("INIT_BURGER_PURCHASE",At);case 2:return e.next=4,Object(Et.e)("INIT_FETCH_ORDERS",Lt);case 4:case"end":return e.stop()}}),Ut)}function zt(){return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("INIT_SET_INGREDIENTS",Rt);case 2:return e.next=4,Object(Et.e)("BURGER_PURCHASE_SUCCESS",Rt);case 4:case"end":return e.stop()}}),Ht)}var Gt=Object(rt.c)({burgerBuilder:st,order:dt,auth:pt}),Mt=Object(ot.a)(),qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rt.d,Wt=Object(rt.e)(Gt,qt(Object(rt.a)(nt.a,Mt)));Mt.run(Pt),Mt.run(Ft),Mt.run(zt);var Zt=n.a.createElement(G.a,{store:Wt}," ",n.a.createElement(I.a,null,n.a.createElement(at,null)));i.a.render(Zt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,a){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__Z_Bfk",BreadTop:"BurgerIngredient_BreadTop__3JAS8",Seeds1:"BurgerIngredient_Seeds1__v9s7R",Seeds2:"BurgerIngredient_Seeds2__42ibc",Meat:"BurgerIngredient_Meat__32j4w",Cheese:"BurgerIngredient_Cheese__o1438",Salad:"BurgerIngredient_Salad__26bJK",Bacon:"BurgerIngredient_Bacon__aoLHa"}},54:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__1sw4Z",svgDiv:"NavigationItems_svgDiv__3crqf"}},55:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3PmfC",Open:"SideDrawer_Open__3a_LG",Close:"SideDrawer_Close__3ImaK",Logo:"SideDrawer_Logo__3R7zv"}},61:function(e,t,a){e.exports={BuildControl:"BuildControl_BuildControl__uYQNQ",Label:"BuildControl_Label__2Y3pZ",Less:"BuildControl_Less__2Zrf7",More:"BuildControl_More__3OKi4"}},69:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__3PmpP",Logo:"Toolbar_Logo__3C4eN",DesktopOnly:"Toolbar_DesktopOnly__1QjVo"}},70:function(e,t,a){e.exports={BuildControls:"BuildControls_BuildControls__s3eL6",OrderButton:"BuildControls_OrderButton__2p4yl",enable:"BuildControls_enable__1CIjH"}},72:function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__2s06M",active:"NavigationItem_active__2UnAi"}},91:function(e,t,a){e.exports={Content:"Layout_Content__2JvCJ"}},92:function(e,t,a){e.exports={Logo:"Logo_Logo__2syrc"}},93:function(e,t,a){e.exports=a.p+"static/media/new-burger-logo.e9a0f467.png"},98:function(e,t,a){e.exports={DrawerToggle:"SDToggler_DrawerToggle__3Z0YP"}},99:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3x7uE"}}},[[125,1,2]]]);
//# sourceMappingURL=main.3bb08f93.chunk.js.map